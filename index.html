<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas - Last Christmas</title>
    <style>
        /* åŸºç¡€æ ·å¼ */
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            color: #fff;
            font-family: 'Microsoft YaHei', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer; /* æç¤ºç”¨æˆ·å¯ä»¥ç‚¹å‡» */
        }

        /* å…¥åœºæç¤ºï¼šæç¤ºç”¨æˆ·ç‚¹å‡»æ’­æ”¾éŸ³ä¹ */
        #play-hint {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s;
        }
        #play-hint.hidden { opacity: 0; pointer-events: none; }
        .hint-btn {
            padding: 15px 30px;
            font-size: 1.5rem;
            background: #ff4d4d;
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            box-shadow: 0 0 20px #ff4d4d;
        }

        /* éŸ³ä¹æ—‹è½¬å›¾æ ‡ */
        .music-icon {
            position: fixed;
            top: 20px; right: 20px;
            font-size: 30px;
            z-index: 100;
            animation: rotating 3s linear infinite;
            display: none; /* åˆå§‹éšè— */
        }
        @keyframes rotating {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* åœ£è¯æ ‘ä¸æ ‡é¢˜æ ·å¼ */
        h1 { font-size: 3rem; color: #ff4d4d; text-shadow: 0 0 20px #ff4d4d; margin-bottom: 20px; text-align: center;}
        .tree { position: relative; width: 160px; height: 200px; }
        .tree-layer { width: 0; height: 0; border-left: 80px solid transparent; border-right: 80px solid transparent; border-bottom: 80px solid #2d5a27; position: absolute; }
        .l1 { top: 0; border-left-width: 40px; border-right-width: 40px; left: 40px; }
        .l2 { top: 40px; border-left-width: 60px; border-right-width: 60px; left: 20px; }
        .l3 { top: 80px; border-left-width: 80px; border-right-width: 80px; }
        .star { position: absolute; top: -30px; left: 62px; color: gold; font-size: 40px; animation: glow 1s infinite alternate; }
        
        @keyframes glow { from { opacity: 0.5; } to { opacity: 1; } }

        .snowflake { position: fixed; top: -10px; color: white; pointer-events: none; }
    </style>
</head>
<body>

    <!-- æ’­æ”¾æç¤ºé®ç½©å±‚ (è§£å†³æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾é™åˆ¶) -->
    <div id="play-hint" onclick="startEverything()">
        <button class="hint-btn">ğŸ„ å¼€å¯åœ£è¯æƒŠå–œ ğŸ</button>
        <p style="margin-top:20px; color:#aaa;">(ç‚¹å‡»æ’­æ”¾ Last Christmas)</p>
    </div>

    <div class="music-icon" id="mIcon">ğŸµ</div>

    <h1>Merry Christmas</h1>

    <div class="tree">
        <div class="star">â˜…</div>
        <div class="tree-layer l1"></div>
        <div class="tree-layer l2"></div>
        <div class="tree-layer l3"></div>
    </div>

    <!-- éŸ³ä¹æ–‡ä»¶ï¼šè¿™é‡Œä½¿ç”¨äº† Wham! - Last Christmas çš„ä¸€ä¸ªéŸ³é¢‘åœ°å€ -->
    <audio id="bgm" loop>
        <source src="https://online1.tingclass.net/music/shi0529/lastchristmas.mp3" type="audio/mpeg">
    </audio>

    <script>
        const bgm = document.getElementById('bgm');
        const hint = document.getElementById('play-hint');
        const icon = document.getElementById('mIcon');

        // æ ¸å¿ƒåŠŸèƒ½ï¼šç‚¹å‡»åéšè—é®ç½©ã€å¼€å§‹éŸ³ä¹ã€å¼€å§‹ä¸‹é›ª
        function startEverything() {
            bgm.play().then(() => {
                hint.classList.add('hidden');
                icon.style.display = 'block';
                startSnowing();
            }).catch(e => {
                console.log("æ’­æ”¾å¤±è´¥ï¼Œè¯·å†æ¬¡ç‚¹å‡»é¡µé¢", e);
            });
        }

        // ä¸‹é›ªç‰¹æ•ˆ
        function startSnowing() {
            setInterval(() => {
                const snowflake = document.createElement('div');
                snowflake.innerHTML = 'â„';
                snowflake.className = 'snowflake';
                snowflake.style.left = Math.random() * window.innerWidth + 'px';
                snowflake.style.fontSize = Math.random() * 15 + 10 + 'px';
                snowflake.style.opacity = Math.random();
                document.body.appendChild(snowflake);

                const duration = Math.random() * 3000 + 4000;
                snowflake.animate([
                    { transform: 'translateY(0)' },
                    { transform: `translateY(${window.innerHeight}px)` }
                ], { duration: duration, easing: 'linear' });

                setTimeout(() => snowflake.remove(), duration);
            }, 100);
        }

        // å…¼å®¹å¤„ç†ï¼šç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®ä¹Ÿèƒ½æ’­æ”¾
        document.body.addEventListener('click', () => {
            if (bgm.paused) {
                startEverything();
            }
        }, { once: true });
    </script>
</body>
</html>
